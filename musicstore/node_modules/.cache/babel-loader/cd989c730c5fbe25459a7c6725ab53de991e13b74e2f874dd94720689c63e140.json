{"ast":null,"code":"import axios from 'axios';\n// import data from '../../../public/data.json'\n\nconst state = {\n  productionData: [],\n  status: false,\n  number: JSON.parse(sessionStorage.getItem('number')) || 1\n};\nconst mutations = {\n  JIA(state) {\n    state.number = JSON.parse(sessionStorage.getItem('number')) || 1;\n    state.number++;\n    // console.log(state);  \n  },\n\n  JIAN(state) {\n    state.number = JSON.parse(sessionStorage.getItem('number')) || 1;\n    state.number--;\n  },\n  SET_PRODUCTION_DATA: (state, data) => {\n    state.productionData = data;\n  }\n};\nconst actions = {\n  jian(context) {\n    if (context.state.number > 1) {\n      context.commit('JIAN');\n    }\n  },\n  // console.log(context);\n  //actions中拿不到state\n  async addMessage(context) {\n    await axios.get('/store_data.json').then(response => {\n      // console.log(context.state.msg);\n      //console.log(response.data);\n      context.commit('SET_PRODUCTION_DATA', response.data);\n      context.state.status = true;\n      console.log('获取了axois数据');\n      // console.log(context.state.msg);\n    }, error => {\n      alert(error.message);\n    }\n    // function(msg){\n    //     console.log(msg.data);\n    //}\n    );\n  }\n};\n\nconst getters = {\n  number(state) {\n    return state.number;\n  }\n};\nexport default {\n  namespaced: true,\n  //开启名命空间\n  state,\n  mutations,\n  actions,\n  getters\n\n  // getters: {\n  //     number(state) {\n  //         return state.number\n\n  //     },\n  // }\n};","map":{"version":3,"names":["axios","state","productionData","status","number","JSON","parse","sessionStorage","getItem","mutations","JIA","JIAN","SET_PRODUCTION_DATA","data","actions","jian","context","commit","addMessage","get","then","response","console","log","error","alert","message","getters","namespaced"],"sources":["D:/WYKS2python/musicstore/src/store/modules/home.js"],"sourcesContent":["\r\nimport axios from 'axios'\r\n// import data from '../../../public/data.json'\r\n\r\n\r\nconst state = {\r\n    productionData: [],\r\n    status:false,\r\n    number: JSON.parse(sessionStorage.getItem('number')) || 1\r\n}\r\n\r\nconst mutations = {\r\n    JIA(state) {\r\n        state.number = JSON.parse(sessionStorage.getItem('number')) || 1\r\n        state.number++\r\n        // console.log(state);  \r\n    },\r\n    JIAN(state) {\r\n        state.number = JSON.parse(sessionStorage.getItem('number')) || 1\r\n        state.number--\r\n\r\n    },\r\n    SET_PRODUCTION_DATA: (state, data) => {\r\n        state.productionData = data\r\n    }\r\n}\r\n\r\nconst actions = {\r\n    jian(context) {\r\n        if (context.state.number > 1) {\r\n            context.commit('JIAN')\r\n        }\r\n    },\r\n    // console.log(context);\r\n    //actions中拿不到state\r\n    async addMessage(context) {\r\n        await axios.get('/store_data.json').then(\r\n            response => {\r\n                // console.log(context.state.msg);\r\n                //console.log(response.data);\r\n                context.commit('SET_PRODUCTION_DATA', response.data)\r\n                context.state.status = true\r\n                console.log('获取了axois数据');\r\n                // console.log(context.state.msg);\r\n            },\r\n            error => {\r\n                alert(error.message)\r\n            }\r\n            // function(msg){\r\n            //     console.log(msg.data);\r\n            //}\r\n        )\r\n    },\r\n}\r\nconst getters = {\r\n   number(state) {\r\n       return state.number\r\n\r\n   },\r\n}\r\n\r\n\r\nexport default {\r\n    namespaced: true,//开启名命空间\r\n    state,\r\n    mutations,\r\n    actions,\r\n    getters\r\n\r\n    // getters: {\r\n    //     number(state) {\r\n    //         return state.number\r\n\r\n    //     },\r\n    // }\r\n\r\n}  \r\n"],"mappings":"AACA,OAAOA,KAAK,MAAM,OAAO;AACzB;;AAGA,MAAMC,KAAK,GAAG;EACVC,cAAc,EAAE,EAAE;EAClBC,MAAM,EAAC,KAAK;EACZC,MAAM,EAAEC,IAAI,CAACC,KAAK,CAACC,cAAc,CAACC,OAAO,CAAC,QAAQ,CAAC,CAAC,IAAI;AAC5D,CAAC;AAED,MAAMC,SAAS,GAAG;EACdC,GAAGA,CAACT,KAAK,EAAE;IACPA,KAAK,CAACG,MAAM,GAAGC,IAAI,CAACC,KAAK,CAACC,cAAc,CAACC,OAAO,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC;IAChEP,KAAK,CAACG,MAAM,EAAE;IACd;EACJ,CAAC;;EACDO,IAAIA,CAACV,KAAK,EAAE;IACRA,KAAK,CAACG,MAAM,GAAGC,IAAI,CAACC,KAAK,CAACC,cAAc,CAACC,OAAO,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC;IAChEP,KAAK,CAACG,MAAM,EAAE;EAElB,CAAC;EACDQ,mBAAmB,EAAEA,CAACX,KAAK,EAAEY,IAAI,KAAK;IAClCZ,KAAK,CAACC,cAAc,GAAGW,IAAI;EAC/B;AACJ,CAAC;AAED,MAAMC,OAAO,GAAG;EACZC,IAAIA,CAACC,OAAO,EAAE;IACV,IAAIA,OAAO,CAACf,KAAK,CAACG,MAAM,GAAG,CAAC,EAAE;MAC1BY,OAAO,CAACC,MAAM,CAAC,MAAM,CAAC;IAC1B;EACJ,CAAC;EACD;EACA;EACA,MAAMC,UAAUA,CAACF,OAAO,EAAE;IACtB,MAAMhB,KAAK,CAACmB,GAAG,CAAC,kBAAkB,CAAC,CAACC,IAAI,CACpCC,QAAQ,IAAI;MACR;MACA;MACAL,OAAO,CAACC,MAAM,CAAC,qBAAqB,EAAEI,QAAQ,CAACR,IAAI,CAAC;MACpDG,OAAO,CAACf,KAAK,CAACE,MAAM,GAAG,IAAI;MAC3BmB,OAAO,CAACC,GAAG,CAAC,YAAY,CAAC;MACzB;IACJ,CAAC,EACDC,KAAK,IAAI;MACLC,KAAK,CAACD,KAAK,CAACE,OAAO,CAAC;IACxB;IACA;IACA;IACA;IACJ,CAAC;EACL;AACJ,CAAC;;AACD,MAAMC,OAAO,GAAG;EACbvB,MAAMA,CAACH,KAAK,EAAE;IACV,OAAOA,KAAK,CAACG,MAAM;EAEvB;AACH,CAAC;AAGD,eAAe;EACXwB,UAAU,EAAE,IAAI;EAAC;EACjB3B,KAAK;EACLQ,SAAS;EACTK,OAAO;EACPa;;EAEA;EACA;EACA;;EAEA;EACA;AAEJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}