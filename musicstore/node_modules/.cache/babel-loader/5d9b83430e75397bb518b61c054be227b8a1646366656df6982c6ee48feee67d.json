{"ast":null,"code":"export default {\n  namespaced: true,\n  state: {\n    shoppingCart: JSON.parse(sessionStorage.getItem('shoppingCart')) || []\n  },\n  mutations: {\n    // let a = [1,2,3,4]    \n\n    // a.forEach()\n    // a.map((row) => {\n    //     // do something\n    //     return ''\n    // })\n    // a.filter((row) => {\n    //     return true || false\n    // })\n    // a.find()\n\n    // a.every()\n    // a.some((row) => {\n    //     return true || false\n    // })\n\n    // a.reduce((prevData, row) => {\n\n    //     if (xxx) {\n    //         return prevData + 5\n    //     }\n    // }, 0)\n\n    // 栈结构\n    // 双向链表\n    // 单项链表\n\n    // a.unshift()\n    // a.shift()\n    // a.pop()\n    // a.push()\n\n    // a.slice()\n    // a.join()\n\n    // Array.isArray(a)\n\n    // a.includes()\n    // a.indexOf()\n\n    // a.at(-1)\n    // a[a.length - 1]\n\n    // a.length = 0\n    // a\n    JIA(state, id) {\n      state.shoppingCart.forEach(item => {\n        if (item.id === id) {\n          item.number++;\n        }\n      });\n      // console.log(state);  \n    },\n\n    JIAN(state, id) {\n      state.shoppingCart.forEach(item => {\n        if (item.id === id) {\n          item.number--;\n        }\n      });\n    },\n    changeNumber(state, _ref) {\n      let {\n        id,\n        put\n      } = _ref;\n      state.shoppingCart.forEach(item => {\n        if (item.id === id) {\n          item.number = put;\n        }\n      });\n    },\n    resetShoppingCart(state) {\n      // 设置购物车状态\n      state.shoppingCart = state.shoppingCart.filter(item => {\n        return item.check == false;\n      });\n      sessionStorage.setItem('shoppingCart', JSON.stringify(state.shoppingCart));\n    },\n    unshiftShoppingCart(state, data) {\n      // 添加购物车\n      // 用于在商品详情页点击添加购物车,后台添加成功后，更新vuex状态\n      state.shoppingCart.unshift(data);\n      sessionStorage.setItem('shoppingCart', JSON.stringify(state.shoppingCart));\n    },\n    deleteShoppingCart(state, id) {\n      if (confirm('确定删除吗？')) {\n        state.shoppingCart = state.shoppingCart.filter(item => {\n          return item.id != id;\n        });\n        sessionStorage.setItem('shoppingCart', JSON.stringify(state.shoppingCart));\n      }\n    },\n    changeCheck(state, id) {\n      state.shoppingCart.forEach(item => {\n        if (item.id === id) {\n          item.check = !item.check;\n        }\n      });\n    },\n    changeAllCheck(state, data) {\n      state.shoppingCart.forEach(item => {\n        item.check = data;\n      });\n    }\n  },\n  actions: {\n    // getShoppingCartNumber(context,id){\n    //     const Item = context.state.shoppingCart.find((item) => item.id === id)\n    //     console.log(Item.number)\n    //     return Item.number\n    // },\n    jian(context, id) {\n      context.state.shoppingCart.forEach(item => {\n        if (item.id === id && item.number > 1) {\n          context.commit('JIAN', id);\n        }\n      });\n    },\n    changeNumber(context, _ref2) {\n      let {\n        id,\n        put\n      } = _ref2;\n      if (put) {\n        context.commit('changeNumber', {\n          id,\n          put\n        });\n      }\n    },\n    unshiftShoppingCart(_ref3, data) {\n      let {\n        commit\n      } = _ref3;\n      commit('unshiftShoppingCart', data);\n    },\n    changeAllCheck(context, data) {\n      if (context.state.shoppingCart.length > 0) {\n        context.commit('changeAllCheck', data);\n      }\n    }\n  },\n  getters: {\n    getShoppingCartNumber: state => {\n      return id => state.shoppingCart.find(item => item.id == id);\n    },\n    getTotalPrice(state) {\n      // 购物车勾选的商品总价格\n      let totalPrice = 0;\n      for (let i = 0; i < state.shoppingCart.length; i++) {\n        const temp = state.shoppingCart[i];\n        if (temp.check) {\n          totalPrice += temp.price * temp.number;\n        }\n      }\n      return totalPrice;\n    },\n    checkedNumber(state) {\n      let checkedNumber = 0;\n      for (let i = 0; i < state.shoppingCart.length; i++) {\n        const temp = state.shoppingCart[i];\n        if (temp.check) {\n          checkedNumber += 1;\n        }\n      }\n      return checkedNumber;\n    },\n    checkedShoppingCart(state) {\n      const checkedShoppingCart = state.shoppingCart.filter(item => item.check == true);\n      return checkedShoppingCart;\n    }\n    // payed:(state)=>{\n    //    return(data) =>{\n    //     state.getPay => {state.getPay = data}\n    //    }\n    // }\n  }\n};","map":{"version":3,"names":["namespaced","state","shoppingCart","JSON","parse","sessionStorage","getItem","mutations","JIA","id","forEach","item","number","JIAN","changeNumber","_ref","put","resetShoppingCart","filter","check","setItem","stringify","unshiftShoppingCart","data","unshift","deleteShoppingCart","confirm","changeCheck","changeAllCheck","actions","jian","context","commit","_ref2","_ref3","length","getters","getShoppingCartNumber","find","getTotalPrice","totalPrice","i","temp","price","checkedNumber","checkedShoppingCart"],"sources":["D:/WYKS2python/musicstore/src/store/modules/cart.js"],"sourcesContent":["\r\nexport default {\r\n    namespaced: true,\r\n    state: {\r\n        shoppingCart:JSON.parse(sessionStorage.getItem('shoppingCart')) || [],\r\n    },\r\n    mutations: {\r\n            // let a = [1,2,3,4]    \r\n\r\n            // a.forEach()\r\n            // a.map((row) => {\r\n            //     // do something\r\n            //     return ''\r\n            // })\r\n            // a.filter((row) => {\r\n            //     return true || false\r\n            // })\r\n            // a.find()\r\n\r\n            // a.every()\r\n            // a.some((row) => {\r\n            //     return true || false\r\n            // })\r\n\r\n            // a.reduce((prevData, row) => {\r\n\r\n            //     if (xxx) {\r\n            //         return prevData + 5\r\n            //     }\r\n            // }, 0)\r\n\r\n            // 栈结构\r\n            // 双向链表\r\n            // 单项链表\r\n\r\n\r\n            // a.unshift()\r\n            // a.shift()\r\n            // a.pop()\r\n            // a.push()\r\n\r\n            // a.slice()\r\n            // a.join()\r\n\r\n            // Array.isArray(a)\r\n\r\n            // a.includes()\r\n            // a.indexOf()\r\n\r\n            // a.at(-1)\r\n            // a[a.length - 1]\r\n\r\n            // a.length = 0\r\n            // a\r\n        JIA(state, id) {\r\n            state.shoppingCart.forEach((item) => {\r\n                if (item.id === id) { item.number++ }\r\n            })\r\n            // console.log(state);  \r\n        },\r\n        JIAN(state, id) {\r\n            state.shoppingCart.forEach((item) => {\r\n                if (item.id === id) {\r\n                    item.number--\r\n                }\r\n            })\r\n        },\r\n        changeNumber(state, {id, put}){\r\n            state.shoppingCart.forEach((item) => {\r\n                    if (item.id === id){\r\n                        item.number = put\r\n                    }\r\n                })\r\n        },\r\n        resetShoppingCart(state) {\r\n            // 设置购物车状态\r\n            state.shoppingCart = state.shoppingCart.filter((item) =>{\r\n                return item.check == false\r\n            });\r\n            sessionStorage.setItem('shoppingCart', JSON.stringify(state.shoppingCart))\r\n        },\r\n        unshiftShoppingCart(state, data) {\r\n            // 添加购物车\r\n            // 用于在商品详情页点击添加购物车,后台添加成功后，更新vuex状态\r\n            state.shoppingCart.unshift(data)\r\n            sessionStorage.setItem('shoppingCart', JSON.stringify(state.shoppingCart))\r\n        },\r\n        deleteShoppingCart(state, id) {\r\n            if (confirm('确定删除吗？')) {\r\n                state.shoppingCart = state.shoppingCart.filter((item) => {\r\n                    return item.id != id\r\n                })\r\n                sessionStorage.setItem('shoppingCart', JSON.stringify(state.shoppingCart))\r\n            }\r\n        },\r\n        changeCheck(state, id) {\r\n            state.shoppingCart.forEach((item) => {\r\n                if (item.id === id) { item.check = !item.check }\r\n            })\r\n        },\r\n        changeAllCheck(state, data){\r\n            state.shoppingCart.forEach((item) => {\r\n                    item.check = data\r\n            })\r\n        },\r\n\r\n    },\r\n    actions: {\r\n        // getShoppingCartNumber(context,id){\r\n        //     const Item = context.state.shoppingCart.find((item) => item.id === id)\r\n        //     console.log(Item.number)\r\n        //     return Item.number\r\n        // },\r\n        jian(context, id) {\r\n            context.state.shoppingCart.forEach((item) => {\r\n                if (item.id === id && item.number > 1) {\r\n                    context.commit('JIAN', id)\r\n                }\r\n            })\r\n        },\r\n        changeNumber(context, {id, put}){\r\n            if(put){\r\n                context.commit('changeNumber',{id,put})\r\n            }\r\n        },\r\n        unshiftShoppingCart({ commit }, data) {\r\n            commit('unshiftShoppingCart', data);\r\n        },\r\n        changeAllCheck(context,data){\r\n            if (context.state.shoppingCart.length > 0){\r\n                context.commit('changeAllCheck',data)\r\n            }\r\n        }\r\n\r\n    },\r\n    getters: {\r\n        getShoppingCartNumber:(state) =>  {\r\n            return(id) => state.shoppingCart.find(item=>item.id == id)\r\n          },\r\n\r\n        getTotalPrice(state) {\r\n            // 购物车勾选的商品总价格\r\n            let totalPrice = 0;\r\n            for (let i = 0; i < state.shoppingCart.length; i++) {\r\n                const temp = state.shoppingCart[i];\r\n                if (temp.check) {\r\n                    totalPrice += temp.price * temp.number;\r\n                }\r\n            }\r\n            return totalPrice;\r\n        },\r\n        checkedNumber(state){\r\n            let checkedNumber = 0\r\n            for (let i = 0; i < state.shoppingCart.length; i++){\r\n                const temp = state.shoppingCart[i];\r\n                if(temp.check){\r\n                    checkedNumber += 1\r\n                }\r\n            }\r\n            return checkedNumber\r\n        },\r\n        checkedShoppingCart(state){\r\n            const checkedShoppingCart = state.shoppingCart.filter((item) => item.check == true)\r\n            return checkedShoppingCart\r\n        } ,\r\n        // payed:(state)=>{\r\n        //    return(data) =>{\r\n        //     state.getPay => {state.getPay = data}\r\n        //    }\r\n        // }\r\n    },\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}