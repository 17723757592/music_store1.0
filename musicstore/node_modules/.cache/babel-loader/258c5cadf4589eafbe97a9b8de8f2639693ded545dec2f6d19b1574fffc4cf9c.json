{"ast":null,"code":"export default {\n  namespaced: true,\n  state: {\n    shoppingCart: JSON.parse(sessionStorage.getItem('shoppingCart')) || []\n  },\n  mutations: {\n    setShoppingCart(state, data) {\n      // 设置购物车状态\n      state.shoppingCart = data;\n    },\n    unshiftShoppingCart(state, id) {\n      // 添加购物车\n      // 用于在商品详情页点击添加购物车,后台添加成功后，更新vuex状态\n      state.shoppingCart.forEach(item => {\n        if (item.id === id) {\n          item.check = !item.check;\n        }\n      });\n      sessionStorage.setItem('shoppingCart', JSON.stringify(state.shoppingCart));\n    },\n    deleteShoppingCart(state, id) {\n      state.shoppingCart = state.shoppingCart.filters(item => {\n        return item.id != id;\n      });\n      sessionStorage.setItem('shoppingCart', JSON.stringify(state.shoppingCart));\n    },\n    changeCheck(state, id) {\n      state.shoppingCart.forEach(item => {\n        if (item.id === id) {\n          item.check = !item.check;\n        }\n      });\n    }\n  },\n  actions: {\n    unshiftShoppingCart(_ref, data) {\n      let {\n        commit\n      } = _ref;\n      commit('unshiftShoppingCart', data);\n    }\n  },\n  getters: {\n    getShoppingCart(state) {\n      // 获取购物车状态\n      return state.shoppingCart;\n    }\n  }\n};","map":{"version":3,"names":["namespaced","state","shoppingCart","JSON","parse","sessionStorage","getItem","mutations","setShoppingCart","data","unshiftShoppingCart","id","forEach","item","check","setItem","stringify","deleteShoppingCart","filters","changeCheck","actions","_ref","commit","getters","getShoppingCart"],"sources":["D:/WYKS2python/musicstore/src/store/modules/cart.js"],"sourcesContent":["export default {\r\n    namespaced:true,\r\n    state:{\r\n        shoppingCart:JSON.parse(sessionStorage.getItem('shoppingCart')) || []\r\n    },\r\n    mutations:{\r\n        setShoppingCart (state, data) {\r\n            // 设置购物车状态\r\n            state.shoppingCart = data;\r\n          },\r\n        unshiftShoppingCart (state, id) {\r\n        // 添加购物车\r\n        // 用于在商品详情页点击添加购物车,后台添加成功后，更新vuex状态\r\n            state.shoppingCart.forEach((item)=>{\r\n                if(item.id===id){item.check = !item.check}\r\n            })\r\n            sessionStorage.setItem('shoppingCart',JSON.stringify(state.shoppingCart))\r\n            },\r\n        deleteShoppingCart (state, id) {\r\n            state.shoppingCart = state.shoppingCart.filters((item)=>{\r\n                return item.id != id\r\n            })\r\n            sessionStorage.setItem('shoppingCart',JSON.stringify(state.shoppingCart))\r\n            },\r\n\r\n        changeCheck(state,id){\r\n            state.shoppingCart.forEach((item)=>{\r\n                if(item.id===id){item.check = !item.check}\r\n            })\r\n        }\r\n      \r\n    },\r\n    actions:{\r\n        unshiftShoppingCart ({ commit }, data) {\r\n            commit('unshiftShoppingCart', data);\r\n          },\r\n      \r\n    },\r\n    getters:{\r\n        getShoppingCart(state) {\r\n            // 获取购物车状态\r\n            return state.shoppingCart;\r\n          },\r\n      \r\n    }\r\n\r\n}"],"mappings":"AAAA,eAAe;EACXA,UAAU,EAAC,IAAI;EACfC,KAAK,EAAC;IACFC,YAAY,EAACC,IAAI,CAACC,KAAK,CAACC,cAAc,CAACC,OAAO,CAAC,cAAc,CAAC,CAAC,IAAI;EACvE,CAAC;EACDC,SAAS,EAAC;IACNC,eAAeA,CAAEP,KAAK,EAAEQ,IAAI,EAAE;MAC1B;MACAR,KAAK,CAACC,YAAY,GAAGO,IAAI;IAC3B,CAAC;IACHC,mBAAmBA,CAAET,KAAK,EAAEU,EAAE,EAAE;MAChC;MACA;MACIV,KAAK,CAACC,YAAY,CAACU,OAAO,CAAEC,IAAI,IAAG;QAC/B,IAAGA,IAAI,CAACF,EAAE,KAAGA,EAAE,EAAC;UAACE,IAAI,CAACC,KAAK,GAAG,CAACD,IAAI,CAACC,KAAK;QAAA;MAC7C,CAAC,CAAC;MACFT,cAAc,CAACU,OAAO,CAAC,cAAc,EAACZ,IAAI,CAACa,SAAS,CAACf,KAAK,CAACC,YAAY,CAAC,CAAC;IACzE,CAAC;IACLe,kBAAkBA,CAAEhB,KAAK,EAAEU,EAAE,EAAE;MAC3BV,KAAK,CAACC,YAAY,GAAGD,KAAK,CAACC,YAAY,CAACgB,OAAO,CAAEL,IAAI,IAAG;QACpD,OAAOA,IAAI,CAACF,EAAE,IAAIA,EAAE;MACxB,CAAC,CAAC;MACFN,cAAc,CAACU,OAAO,CAAC,cAAc,EAACZ,IAAI,CAACa,SAAS,CAACf,KAAK,CAACC,YAAY,CAAC,CAAC;IACzE,CAAC;IAELiB,WAAWA,CAAClB,KAAK,EAACU,EAAE,EAAC;MACjBV,KAAK,CAACC,YAAY,CAACU,OAAO,CAAEC,IAAI,IAAG;QAC/B,IAAGA,IAAI,CAACF,EAAE,KAAGA,EAAE,EAAC;UAACE,IAAI,CAACC,KAAK,GAAG,CAACD,IAAI,CAACC,KAAK;QAAA;MAC7C,CAAC,CAAC;IACN;EAEJ,CAAC;EACDM,OAAO,EAAC;IACJV,mBAAmBA,CAAAW,IAAA,EAAcZ,IAAI,EAAE;MAAA,IAAlB;QAAEa;MAAO,CAAC,GAAAD,IAAA;MAC3BC,MAAM,CAAC,qBAAqB,EAAEb,IAAI,CAAC;IACrC;EAEN,CAAC;EACDc,OAAO,EAAC;IACJC,eAAeA,CAACvB,KAAK,EAAE;MACnB;MACA,OAAOA,KAAK,CAACC,YAAY;IAC3B;EAEN;AAEJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}