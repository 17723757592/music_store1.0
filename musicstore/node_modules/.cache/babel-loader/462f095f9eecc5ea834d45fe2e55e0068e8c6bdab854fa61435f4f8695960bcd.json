{"ast":null,"code":"import { mapState } from \"vuex\";\nexport default {\n  name: \"ModulesName\",\n  data() {\n    return {\n      sortType: 0,\n      // IPgoods: this.productionData.IPper.IPgoods,\n      keyWord: '',\n      IPgoods: '',\n      sort: [{\n        id: 0,\n        title: '综合'\n      }, {\n        id: 1,\n        title: '价格由低到高'\n      }, {\n        id: 2,\n        title: '价格由高到低'\n      }]\n    };\n  },\n  computed: {\n    ...mapState('home', ['productionData', 'status']),\n    IPgoods_sort() {\n      const arr = this.IPgoods.filter(goods => {\n        return goods.contend.indexOf(this.keyWord) != -1;\n      });\n      if (this.sortType) {\n        arr.sort((g1, g2) => {\n          return this.sortType === 1 ? g1.money - g2.money : g2.money - g1.money;\n        });\n      }\n      return arr;\n    }\n  },\n  methods: {\n    event(item, index) {\n      this.sortType = item.id;\n      if (item.id == index) {\n        item.class = 'active';\n      } else {\n        item.class = '';\n      }\n      console.log(this.sortType);\n      console.log(item);\n    }\n  },\n  watch: {\n    productionData: {\n      immediate: true,\n      deep: true,\n      handler(val) {\n        this.IPgoods = val.IPper.IPgoods;\n        console.log(val);\n        console.log(this.IPgoods);\n      }\n    }\n  }\n  // created() {\n  //     console.log(this.$store.state.home,222);\n\n  // },\n};","map":{"version":3,"names":["mapState","name","data","sortType","keyWord","IPgoods","sort","id","title","computed","IPgoods_sort","arr","filter","goods","contend","indexOf","g1","g2","money","methods","event","item","index","class","console","log","watch","productionData","immediate","deep","handler","val","IPper"],"sources":["src/views/Modules.vue"],"sourcesContent":["<template>\r\n    <div class=\"IPpre-modules\">\r\n        <div class=\"m-product\">\r\n            <div>\r\n                <ul class=\"sortby\">\r\n                    <li v-for=\"(item,index) in sort\" :key=\"index\" :class=\"item.id = 0 ? 'active' :''\">\r\n                        <a href=\"javascript:\"><i :class=\"item.id !=0 ? 'point' : ''\"></i><em @click=\"event(item)\">{{ item.title }}</em></a>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <ul class=\"recmdlist\" v-if=\"IPgoods\">\r\n                <li class=\"recmditem\" v-for=\"(item, index) in IPgoods_sort\" :key=\"item.data_id\"\r\n                    :style=\"(index + 1) % 4 == 0 ? { marginRight: '0px' } : ''\">\r\n                    <router-link :to=\"{ name: 'detail' }\">\r\n                        <div>\r\n                            <a class=\"imgbox\" :href=\"item.href\"><img class=\"productimg\" :src=\"item.img\" alt=\"\" /></a>\r\n                            <div class=\"content\">\r\n                                <h3>\r\n                                    <span v-show=\"item.discount\" class=\"tag\"><em>{{ item.discount }}</em></span>&nbsp;\r\n                                    <a :href=\"item.href\">{{ item.contend }}</a>\r\n                                </h3>\r\n                                <p class=\"f-thide\">\r\n                                    ￥<em>{{ item.money }}</em>\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                    </router-link>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n        <div>\r\n            <div>\r\n                <div>\r\n                    <a href=\"javascript:\"></a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\n\r\nexport default {\r\n    name: \"ModulesName\",\r\n    data() {\r\n        return {\r\n            sortType:0,\r\n            // IPgoods: this.productionData.IPper.IPgoods,\r\n            keyWord:'',\r\n            IPgoods:'',\r\n            sort:[\r\n                {id:0,title:'综合'},\r\n                {id:1,title:'价格由低到高'},\r\n                {id:2,title:'价格由高到低'},\r\n            ]\r\n        };\r\n    },\r\n    computed: {\r\n        ...mapState('home',['productionData','status']),\r\n        IPgoods_sort(){\r\n            const arr = this.IPgoods.filter((goods)=>{  \r\n                return goods.contend.indexOf(this.keyWord) != -1\r\n            })\r\n            if(this.sortType){\r\n                arr.sort((g1,g2) => {\r\n                    return this.sortType === 1 ? g1.money - g2.money : g2.money - g1.money\r\n                })\r\n            }\r\n            return arr\r\n        }\r\n    },\r\n    methods:{\r\n        event(item,index){\r\n            this.sortType = item.id\r\n            if(item.id == index){\r\n                item.class = 'active'\r\n            }\r\n            else{\r\n                item.class = ''\r\n            }\r\n            console.log(this.sortType);\r\n            console.log(item);\r\n        }\r\n    },\r\n    watch:{\r\n        productionData:{\r\n            immediate:true,\r\n            deep:true,\r\n            handler(val){\r\n                this.IPgoods = val.IPper.IPgoods\r\n                console.log(val);\r\n                console.log(this.IPgoods);\r\n            }\r\n        }\r\n    },\r\n    // created() {\r\n    //     console.log(this.$store.state.home,222);\r\n        \r\n        \r\n    // },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.IPpre-modules {\r\n    overflow: hidden;\r\n}\r\n\r\n.sortby {\r\n    height: 21px;\r\n    margin: 30px 0 30px 0;\r\n    font-size: 16px;\r\n}\r\n\r\n.sortby li {\r\n    float: left;\r\n    padding-right: 16px;\r\n}\r\n\r\n.m-product {\r\n    width: 1100px;\r\n    margin: 0 auto;\r\n}\r\n\r\n.m-product div {\r\n    width: 100%;\r\n}\r\n\r\n.point {\r\n    float: left;\r\n    height: 21px;\r\n    padding-right: 16px;\r\n    background: url(../assets/point.png) left center no-repeat;\r\n}\r\n</style>"],"mappings":"AAyCA,SAAAA,QAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,QAAA;MACA;MACAC,OAAA;MACAC,OAAA;MACAC,IAAA,GACA;QAAAC,EAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,EAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,EAAA;QAAAC,KAAA;MAAA;IAEA;EACA;EACAC,QAAA;IACA,GAAAT,QAAA;IACAU,aAAA;MACA,MAAAC,GAAA,QAAAN,OAAA,CAAAO,MAAA,CAAAC,KAAA;QACA,OAAAA,KAAA,CAAAC,OAAA,CAAAC,OAAA,MAAAX,OAAA;MACA;MACA,SAAAD,QAAA;QACAQ,GAAA,CAAAL,IAAA,EAAAU,EAAA,EAAAC,EAAA;UACA,YAAAd,QAAA,SAAAa,EAAA,CAAAE,KAAA,GAAAD,EAAA,CAAAC,KAAA,GAAAD,EAAA,CAAAC,KAAA,GAAAF,EAAA,CAAAE,KAAA;QACA;MACA;MACA,OAAAP,GAAA;IACA;EACA;EACAQ,OAAA;IACAC,MAAAC,IAAA,EAAAC,KAAA;MACA,KAAAnB,QAAA,GAAAkB,IAAA,CAAAd,EAAA;MACA,IAAAc,IAAA,CAAAd,EAAA,IAAAe,KAAA;QACAD,IAAA,CAAAE,KAAA;MACA,OACA;QACAF,IAAA,CAAAE,KAAA;MACA;MACAC,OAAA,CAAAC,GAAA,MAAAtB,QAAA;MACAqB,OAAA,CAAAC,GAAA,CAAAJ,IAAA;IACA;EACA;EACAK,KAAA;IACAC,cAAA;MACAC,SAAA;MACAC,IAAA;MACAC,QAAAC,GAAA;QACA,KAAA1B,OAAA,GAAA0B,GAAA,CAAAC,KAAA,CAAA3B,OAAA;QACAmB,OAAA,CAAAC,GAAA,CAAAM,GAAA;QACAP,OAAA,CAAAC,GAAA,MAAApB,OAAA;MACA;IACA;EACA;EACA;EACA;;EAGA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}