{"ast":null,"code":"import { mapGetters } from 'vuex';\nexport default {\n  name: 'PerOrder',\n  data() {\n    return {\n      address: '',\n      confromAddress: ''\n    };\n  },\n  computed: {\n    ...mapGetters('cart', ['checkedShoppingCart'])\n  },\n  created() {\n    // this.$bus.$on('getAddress',this.getConfromAddress)\n    this.address = this.$store.state.user.address.filter(item => item.id == this.confromAddress);\n    // this.address = this.$store.state.user.address[0]  \n  },\n\n  methods: {\n    getConfromAddress(data) {\n      this.confromAddress = data;\n      console.log(666);\n    }\n  },\n  mounted() {\n    this.$bus.$on('getAddress', data => {\n      console.log(data);\n    });\n    console.log(this.$bus);\n  },\n  beforeDestroy() {\n    this.$bus.$off('getAddress');\n  }\n};","map":{"version":3,"names":["mapGetters","name","data","address","confromAddress","computed","created","$store","state","user","filter","item","id","methods","getConfromAddress","console","log","mounted","$bus","$on","beforeDestroy","$off"],"sources":["src/user/PerOrder.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"section-goods\" v-if=\"checkedShoppingCart.length > 0\">\r\n    <p class=\"titleleft\">订单</p>\r\n    <div class=\"goods-list\">\r\n      <ul>\r\n        <li v-for=\"item in checkedShoppingCart\" :key=\"item.id\">\r\n          <!-- <img :src=\"$target + item.productImg\" /> -->\r\n          <span class=\"pro-name\">{{item.title}}</span>\r\n          <span class=\"pro-total\">{{item.price * item.number}}元</span>\r\n          <span class=\"pro-price\">{{item.price}}元 x {{item.number}}</span>\r\n          <span class=\"pro-id\">订单号：{{ item.id }}</span>\r\n          <span class=\"pro-status\"></span>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <p class=\"titleleft\">送到</p>\r\n    <div class=\"address-body\">\r\n      <li :key=\"address.id\">\r\n        <h2>{{address.name}}</h2>\r\n        <p class=\"phone\">{{address.phone}}</p>\r\n        <p class=\"address\">{{address.address}}</p>\r\n      </li>\r\n    </div>\r\n    </div>\r\n    <div v-else>\r\n      <h3>你还没有下单，快去看看吧</h3>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex';\r\nexport default {\r\n    name:'PerOrder',\r\n    data(){\r\n      return{\r\n        address:'',\r\n        confromAddress:''\r\n      }\r\n    },\r\n    computed:{\r\n      ...mapGetters('cart',['checkedShoppingCart']),\r\n    },\r\n    created(){\r\n      // this.$bus.$on('getAddress',this.getConfromAddress)\r\n      this.address = this.$store.state.user.address.filter(item=>item.id == this.confromAddress)\r\n      // this.address = this.$store.state.user.address[0]  \r\n    },\r\n    methods:{\r\n      getConfromAddress(data){\r\n        this.confromAddress = data\r\n        console.log(666);\r\n      }\r\n    },\r\n    mounted(){\r\n      this.$bus.$on('getAddress', (data) =>{\r\n        console.log(data);\r\n      })\r\n      console.log(this.$bus);\r\n    },\r\n    beforeDestroy(){\r\n      this.$bus.$off('getAddress')\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.section-goods {\r\n  width: 800px;\r\n  margin: 0 auto;\r\n  overflow: hidden;\r\n  text-align: left;\r\n  border-bottom: 1px solid #e0e0e0;\r\n}\r\n\r\n.section-goods p.titleleft {\r\n  color: #333;\r\n  font-size: 18px;\r\n  line-height: 40px;\r\n}\r\n.section-goods .goods-list {\r\n  padding: 5px 0;\r\n  border-bottom: 1px solid #e0e0e0;\r\n}\r\n.section-goods .goods-list li {\r\n  padding: 10px 0;\r\n  color: #424242;\r\n  overflow: hidden;\r\n}\r\n.section-goods .goods-list li img {\r\n  float: left;\r\n  width: 30px;\r\n  height: 30px;\r\n  margin-right: 10px;\r\n}\r\n.section-goods .goods-list li .pro-name {\r\n  float: left;\r\n  width: 600px;\r\n  line-height: 30px;\r\n}\r\n.section-goods .goods-list li .pro-id{\r\n  float: right;\r\n}\r\n.section-goods .goods-list li .pro-price {\r\n  float: left;\r\n  width: 150px;\r\n  text-align: center;\r\n  line-height: 30px;\r\n}\r\n.section-goods .goods-list li .pro-status {\r\n  float: left;\r\n  width: 99px;\r\n  height: 30px;\r\n  text-align: center;\r\n  line-height: 30px;\r\n}\r\n.section-goods .goods-list li .pro-total {\r\n  float: left;\r\n  width: 200px;\r\n  text-align: center;\r\n  color: #d33a31;\r\n  line-height: 30px;\r\n}\r\n</style>"],"mappings":"AAgCA,SAAAA,UAAA;AACA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,OAAA;MACAC,cAAA;IACA;EACA;EACAC,QAAA;IACA,GAAAL,UAAA;EACA;EACAM,QAAA;IACA;IACA,KAAAH,OAAA,QAAAI,MAAA,CAAAC,KAAA,CAAAC,IAAA,CAAAN,OAAA,CAAAO,MAAA,CAAAC,IAAA,IAAAA,IAAA,CAAAC,EAAA,SAAAR,cAAA;IACA;EACA;;EACAS,OAAA;IACAC,kBAAAZ,IAAA;MACA,KAAAE,cAAA,GAAAF,IAAA;MACAa,OAAA,CAAAC,GAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,IAAA,CAAAC,GAAA,eAAAjB,IAAA;MACAa,OAAA,CAAAC,GAAA,CAAAd,IAAA;IACA;IACAa,OAAA,CAAAC,GAAA,MAAAE,IAAA;EACA;EACAE,cAAA;IACA,KAAAF,IAAA,CAAAG,IAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}