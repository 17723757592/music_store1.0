{"ast":null,"code":"import axios from 'axios';\n// import data from '../../../public/data.json'\n\nconst state = {\n  productionData: JSON.parse(sessionStorage.getItem('productionData')) || [],\n  number: JSON.parse(sessionStorage.getItem('number')) || 1\n};\nconst mutations = {\n  JIA(state) {\n    state.number = JSON.parse(sessionStorage.getItem('number')) || 1;\n    state.number++;\n    // console.log(state);  \n  },\n\n  JIAN(state) {\n    state.number = JSON.parse(sessionStorage.getItem('number')) || 1;\n    state.number--;\n  },\n  SET_PRODUCTION_DATA: (state, data) => {\n    sessionStorage.setItem('productionData', JSON.stringify(data));\n    state.productionData = data;\n  }\n};\nconst actions = {\n  jian(context) {\n    if (context.state.number > 1) {\n      context.commit('JIAN');\n    }\n  },\n  // console.log(context);\n  //actions中拿不到state\n  addMessage(context) {\n    axios.get('/store_data.json').then(response => {\n      // console.log(context.state.msg);\n      //console.log(response.data);\n      context.commit('SET_PRODUCTION_DATA', response.data);\n      console.log('获取了axois数据');\n      // console.log(context.state.msg);\n    }, error => {\n      alert(error.message);\n    }\n    // function(msg){\n    //     console.log(msg.data);\n    //}\n    );\n  }\n};\n\nconst getters = {\n  number(state) {\n    return state.number;\n  }\n  //    rankList(state) {\n  //     // production没有即使返回数据sort()会报错\n  //        return state.productionData.Nalbum.sort((g1,g2) =>{\n  //            return g2.sales - g1.sales\n  //         })\n  //     }\n};\n\nexport default {\n  namespaced: true,\n  //开启名命空间\n  state,\n  mutations,\n  actions,\n  getters\n\n  // getters: {\n  //     number(state) {\n  //         return state.number\n\n  //     },\n  // }\n};","map":{"version":3,"names":["axios","state","productionData","JSON","parse","sessionStorage","getItem","number","mutations","JIA","JIAN","SET_PRODUCTION_DATA","data","setItem","stringify","actions","jian","context","commit","addMessage","get","then","response","console","log","error","alert","message","getters","namespaced"],"sources":["D:/WYKS2python/musicstore/src/store/modules/home.js"],"sourcesContent":["\r\nimport axios from 'axios'\r\n// import data from '../../../public/data.json'\r\n\r\n\r\nconst state = {\r\n    productionData: JSON.parse(sessionStorage.getItem('productionData')) || [],\r\n    number: JSON.parse(sessionStorage.getItem('number')) || 1   \r\n}\r\n\r\nconst mutations = {\r\n    JIA(state) {\r\n        state.number = JSON.parse(sessionStorage.getItem('number')) || 1\r\n        state.number++\r\n        // console.log(state);  \r\n    },\r\n    JIAN(state) {\r\n        state.number = JSON.parse(sessionStorage.getItem('number')) || 1\r\n        state.number--\r\n\r\n    },\r\n    SET_PRODUCTION_DATA: (state, data) => {\r\n        sessionStorage.setItem('productionData',JSON.stringify(data))\r\n        state.productionData = data\r\n    },\r\n}\r\n\r\nconst actions = {\r\n    jian(context) {\r\n        if (context.state.number > 1) {\r\n            context.commit('JIAN')\r\n        }\r\n    },\r\n    // console.log(context);\r\n    //actions中拿不到state\r\n    addMessage(context) {\r\n        axios.get('/store_data.json').then(\r\n            response => {\r\n                // console.log(context.state.msg);\r\n                //console.log(response.data);\r\n                context.commit('SET_PRODUCTION_DATA', response.data)\r\n                console.log('获取了axois数据');\r\n                // console.log(context.state.msg);\r\n            },\r\n            error => {\r\n                alert(error.message)\r\n            }\r\n            // function(msg){\r\n            //     console.log(msg.data);\r\n            //}\r\n        )\r\n    },\r\n}\r\nconst getters = {\r\n   number(state) {\r\n       return state.number\r\n\r\n   },\r\n//    rankList(state) {\r\n//     // production没有即使返回数据sort()会报错\r\n//        return state.productionData.Nalbum.sort((g1,g2) =>{\r\n//            return g2.sales - g1.sales\r\n//         })\r\n//     }\r\n}\r\n\r\n\r\nexport default {\r\n    namespaced: true,//开启名命空间\r\n    state,\r\n    mutations,\r\n    actions,\r\n    getters\r\n\r\n    // getters: {\r\n    //     number(state) {\r\n    //         return state.number\r\n\r\n    //     },\r\n    // }\r\n\r\n}  \r\n"],"mappings":"AACA,OAAOA,KAAK,MAAM,OAAO;AACzB;;AAGA,MAAMC,KAAK,GAAG;EACVC,cAAc,EAAEC,IAAI,CAACC,KAAK,CAACC,cAAc,CAACC,OAAO,CAAC,gBAAgB,CAAC,CAAC,IAAI,EAAE;EAC1EC,MAAM,EAAEJ,IAAI,CAACC,KAAK,CAACC,cAAc,CAACC,OAAO,CAAC,QAAQ,CAAC,CAAC,IAAI;AAC5D,CAAC;AAED,MAAME,SAAS,GAAG;EACdC,GAAGA,CAACR,KAAK,EAAE;IACPA,KAAK,CAACM,MAAM,GAAGJ,IAAI,CAACC,KAAK,CAACC,cAAc,CAACC,OAAO,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC;IAChEL,KAAK,CAACM,MAAM,EAAE;IACd;EACJ,CAAC;;EACDG,IAAIA,CAACT,KAAK,EAAE;IACRA,KAAK,CAACM,MAAM,GAAGJ,IAAI,CAACC,KAAK,CAACC,cAAc,CAACC,OAAO,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC;IAChEL,KAAK,CAACM,MAAM,EAAE;EAElB,CAAC;EACDI,mBAAmB,EAAEA,CAACV,KAAK,EAAEW,IAAI,KAAK;IAClCP,cAAc,CAACQ,OAAO,CAAC,gBAAgB,EAACV,IAAI,CAACW,SAAS,CAACF,IAAI,CAAC,CAAC;IAC7DX,KAAK,CAACC,cAAc,GAAGU,IAAI;EAC/B;AACJ,CAAC;AAED,MAAMG,OAAO,GAAG;EACZC,IAAIA,CAACC,OAAO,EAAE;IACV,IAAIA,OAAO,CAAChB,KAAK,CAACM,MAAM,GAAG,CAAC,EAAE;MAC1BU,OAAO,CAACC,MAAM,CAAC,MAAM,CAAC;IAC1B;EACJ,CAAC;EACD;EACA;EACAC,UAAUA,CAACF,OAAO,EAAE;IAChBjB,KAAK,CAACoB,GAAG,CAAC,kBAAkB,CAAC,CAACC,IAAI,CAC9BC,QAAQ,IAAI;MACR;MACA;MACAL,OAAO,CAACC,MAAM,CAAC,qBAAqB,EAAEI,QAAQ,CAACV,IAAI,CAAC;MACpDW,OAAO,CAACC,GAAG,CAAC,YAAY,CAAC;MACzB;IACJ,CAAC,EACDC,KAAK,IAAI;MACLC,KAAK,CAACD,KAAK,CAACE,OAAO,CAAC;IACxB;IACA;IACA;IACA;IACJ,CAAC;EACL;AACJ,CAAC;;AACD,MAAMC,OAAO,GAAG;EACbrB,MAAMA,CAACN,KAAK,EAAE;IACV,OAAOA,KAAK,CAACM,MAAM;EAEvB;EACH;EACA;EACA;EACA;EACA;EACA;AACA,CAAC;;AAGD,eAAe;EACXsB,UAAU,EAAE,IAAI;EAAC;EACjB5B,KAAK;EACLO,SAAS;EACTO,OAAO;EACPa;;EAEA;EACA;EACA;;EAEA;EACA;AAEJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}