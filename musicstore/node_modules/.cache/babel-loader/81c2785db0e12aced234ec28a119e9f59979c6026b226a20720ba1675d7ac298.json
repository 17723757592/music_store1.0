{"ast":null,"code":"import { mapActions, mapState, mapMutations, mapGetters } from 'vuex';\n// import mixin from '../mixin.js';\nexport default {\n  name: 'DeBody',\n  props: ['title', 'price', 'id', 'goods'],\n  // mixins:[mixin],\n  data() {\n    return {\n      isVisable: false,\n      put: ''\n    };\n  },\n  methods: {\n    ...mapActions('home', {\n      jian: 'jian'\n    }),\n    ...mapMutations('home', ['JIA', 'JIAN']),\n    windowScrollListener() {\n      var scrollTop = document.body.scrollTop || document.documentElement.scrollTop;\n      // console.log(scrollTop);\n      if (scrollTop >= 555) {\n        this.isVisable = true;\n      }\n      if (scrollTop < 555) {\n        this.isVisable = false;\n      }\n    },\n    changeNumber(put) {\n      console.log(put);\n      //需要检验输入的数据是否是数字\n    }\n  },\n\n  computed: {\n    ...mapState('home', ['productionData']),\n    ...mapGetters('home', ['number'])\n  },\n  created() {\n    window.addEventListener('scroll', this.windowScrollListener);\n  },\n  mounted() {\n    console.log(this.goods);\n  },\n  watch: {\n    number: {\n      immediate: true,\n      deep: true,\n      handler(val) {\n        this.put = val;\n      }\n    },\n    put: {\n      deep: true,\n      handler(newVal) {\n        sessionStorage.setItem('number', newVal);\n      }\n    }\n  },\n  destroyed() {\n    window.removeEventListener('scroll', this.windowScrollListener);\n  }\n};","map":{"version":3,"names":["mapActions","mapState","mapMutations","mapGetters","name","props","data","isVisable","put","methods","jian","windowScrollListener","scrollTop","document","body","documentElement","changeNumber","console","log","computed","created","window","addEventListener","mounted","goods","watch","number","immediate","deep","handler","val","newVal","sessionStorage","setItem","destroyed","removeEventListener"],"sources":["src/details/DeBody.vue"],"sourcesContent":["<template>\r\n    <div class=\"g-main\">\r\n        <div class=\"n-detail\">\r\n            <div class=\"f-cb\" :style=\"{minHeight:'530px',overflow:'hidden'}\">\r\n                <div class=\"img-display\" :style=\"{float:'left',}\">\r\n                    <div class=\"pic\">\r\n                        <div class=\"imgbox\">\r\n                        <img src=\"http://p4.music.126.net/1uVIZ3FicR1Jj13Q5c-0Rw==/109951167042127430.jpg?param=440y440\" alt=\"\"></div>\r\n                    </div>\r\n                    <div class=\"smallnav\">\r\n                        <ul>\r\n                            <li v-for=\"(item,index) in goods.detailnav\" :key=\"index\">\r\n                                <img :src=\"item\" alt=\"\">\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n                <div class=\"n-info\">\r\n                    <div class=\"basic\">\r\n                        <h2>{{title}}</h2>\r\n                        <p class=\"price\">\r\n                            <span>￥</span>\r\n                            <em>{{ price }}</em>\r\n                        </p>\r\n                        <div class=\"standard\">\r\n                            <div class=\"select-box\">\r\n                                <div class=\"detailtext\">规格:</div>\r\n                                <ul>\r\n                                    <li><p>{{ '戒指均码' }}</p></li>\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"count\">\r\n                            <div class=\"count-box\">\r\n                                <p class=\"detailtext\">数量:</p>\r\n                                <div class=\"u-number\">\r\n                                    <a class=\"u-btn\" href=\"javascript:\" @click=\"jian\"><i :style=\"{backgroundPositionX:'-38px',backgroundPositionY:'-534px'}\"></i></a>\r\n                                    <span class=\"tot\"><input type=\"text\" v-model=\"put\" @blur=\"changeNumber(put)\"></span>\r\n                                    <a class=\"u-btn\" href=\"javascript:\" @click=\"JIA\"><i :style=\"{backgroundPositionX:'0px',backgroundPositionY:'-534px'}\"></i></a>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"services\">\r\n                        <p class=\"detailtext\">服务:</p>\r\n                        <div class=\"servecnt\">\r\n                            <a class=\"serveitem\" href=\"javascript:\">{{'7天无理由退货' }}</a>\r\n                        </div>\r\n                    </div>\r\n                    <p class=\"buyit\">\r\n                        <a class=\"buybtn buybtn1\" href=\"javascript:\">立即购买</a>\r\n                        <a class=\"buybtn tocar buybtn1\" href=\"javascript:\">加入购物车</a>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n            <div class=\"n-contend\">\r\n                <div class=\"n-contend-left\">\r\n                    <h2 class=\"headline\">商品详情</h2>\r\n                    <div class=\"n-describe\">\r\n                        <div class=\"j-flag\">\r\n                            <img src=\"http://p3.music.126.net/qd5rYtXbSKA8ZsH4iwLcZQ==/109951167042132880.jpg?imageView&thumbnail=700x0&quality=75\" alt=\"\">\r\n                            <img src=\"http://p4.music.126.net/CfzQPDwTUXR6bcvEK-LTQQ==/109951167042137146.jpg?imageView&thumbnail=700x0&quality=75\" alt=\"\">\r\n                            <p><br></p>\r\n                            <p><span>购买须知</span></p>\r\n                            <p><span>商品购买成功后，会在2个工作日内发货，法定节假日顺延，请在确认商品完好后再签收。</span></p>\r\n                            <p><span>若存在质量问题，请务必在签收后7天内联系客服。</span></p>\r\n                            <p><span>客服账号：向【云音乐客服】账号私信反馈</span></p>\r\n                        </div>\r\n                    </div>\r\n                    <div></div>\r\n                </div>\r\n                <div class=\"hotrecommned\">\r\n                    <h2 class=\"headline normal\">热门商品</h2>\r\n                    <div class=\"m-product\">\r\n                        <ul class=\"recmdlist\">\r\n                            <li class=\"hotitem\" v-for=\"(item,index) in productionData.recommend\" :key=\"item.data_id\" v-show=\"index < 4\">\r\n                                <div>\r\n                                    <a class=\"picbox\"  :href=\"item.href\"><img :src=\"item.img\" alt=\"\"></a>\r\n                                    <div class=\"content\">\r\n                                        <h3>\r\n                                            <span v-show=\"item.discount\" class=\"tag\"><em>{{item.discount}}</em></span>&nbsp;\r\n                                            <a :href=\"item.href\">{{item.contend }}</a>\r\n                                        </h3>\r\n                                        <p class=\"f-thide\">￥<em>{{item.money}}</em></p> \r\n                                    </div>\r\n                                </div>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div ref=\"topbar\" class=\"topbar\" v-show=\"isVisable\">\r\n                <div class=\"barbox\">\r\n                    <div class=\"imgbox\"><img src=\"http://p3.music.126.net/ya7CWKccVry8DC9lcyDnfw==/109951167042139522.jpg?param=100y100\" alt=\"\"></div>\r\n                    <div class=\"barmsg\">\r\n                        <p>{{ title }}</p>\r\n                        <span :style=\"{color:'#d33a31'}\">{{price}}</span>\r\n                    </div>\r\n                    <p class=\"buyit\" :style=\"{float:'right'}\">\r\n                        <a class=\"buybtn buybtn2\" href=\"javascript:\">立即购买</a>\r\n                        <a class=\"buybtn tocar buybtn2\" href=\"javascript:\">加入购物车</a>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n            <div></div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapActions,mapState,mapMutations, mapGetters} from 'vuex';\r\n// import mixin from '../mixin.js';\r\nexport default {    \r\n    name:'DeBody',\r\n    props:['title','price','id', 'goods'],\r\n    // mixins:[mixin],\r\n    data(){\r\n        return{\r\n            isVisable:false,\r\n            put:''\r\n        }\r\n    },\r\n    methods:{\r\n        ...mapActions('home', {jian:'jian'}),\r\n        ...mapMutations('home',['JIA','JIAN']),\r\n        windowScrollListener() {\r\n            var scrollTop = document.body.scrollTop || document.documentElement.scrollTop;\r\n            // console.log(scrollTop);\r\n            if (scrollTop >= 555) {\r\n                this.isVisable = true; \r\n            }\r\n            if (scrollTop < 555) {\r\n                this.isVisable = false; \r\n            }\r\n        },\r\n        changeNumber(put){\r\n            console.log(put);\r\n            //需要检验输入的数据是否是数字\r\n        }\r\n    },\r\n\r\n    computed:{\r\n        ...mapState('home',['productionData']),   \r\n        ...mapGetters('home', ['number'])\r\n\r\n    },\r\n    created(){\r\n        window.addEventListener('scroll', this.windowScrollListener);\r\n    },\r\n    mounted(){\r\n        console.log(this.goods);\r\n    },\r\n    watch:{\r\n        number:{\r\n            immediate:true,\r\n            deep:true,\r\n            handler(val){\r\n                this.put = val\r\n            }\r\n        },\r\n        put:{\r\n            deep:true,\r\n            handler(newVal){\r\n                sessionStorage.setItem('number',newVal)\r\n            }\r\n        }\r\n\r\n\r\n    },\r\n    destroyed(){\r\n        window.removeEventListener('scroll', this.windowScrollListener);\r\n    }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.detailtext{\r\n    height: 30px;\r\n    line-height: 30px;\r\n    color: #999;\r\n    float: left;\r\n    margin-right: 30px;\r\n    font-size: 12px;\r\n}\r\n.headline{\r\n    height: 30px;\r\n    line-height: 30px;\r\n    padding-bottom: 17px;\r\n    margin-bottom: 20px;\r\n    border-bottom: 1px solid #000;\r\n    font-size: 22px;\r\n}\r\n.buyit{\r\n        overflow: hidden;\r\n        .buybtn1{\r\n            width: 170px;\r\n            height: 50px;\r\n            line-height: 47px;\r\n            margin-top: 30px;\r\n        }\r\n        .buybtn2{\r\n            width: 160px;\r\n            height: 40px;\r\n            line-height: 37px;\r\n            margin-top: 14px;\r\n        }\r\n        .buybtn{\r\n            float: left;\r\n            box-sizing: border-box;\r\n            font-size: 18px;\r\n            border: 2px solid #d33a31;\r\n            color: #d33a31;\r\n            background-color: white;\r\n            text-align: center;\r\n            margin-right: 10px;\r\n        }\r\n        .tocar{\r\n            background-color:#d33a31;\r\n            color: white;\r\n        }\r\n            }\r\n.g-main{\r\n    width: 100%;\r\n    text-align: left;\r\n    margin: 0;\r\n    .n-detail{\r\n        padding-top: 5px;\r\n        min-height: 600px;\r\n        .f-cb{\r\n            .img-display{\r\n            .pic{\r\n                box-sizing: border-box;\r\n                width: 440px;\r\n                position: relative;\r\n                height: 440px;\r\n                .imgbox{\r\n                    position: relative;\r\n                    overflow: hidden;\r\n                    width: 100%;\r\n                    height: 100%;\r\n                    background: #f9f9f9;\r\n                    img{\r\n                        width: 100%;\r\n                        height: 100%;\r\n                    }\r\n                }\r\n            }\r\n            .smallnav{\r\n                        position: relative;\r\n                        z-index: 1;\r\n                        zoom: 1;\r\n                        width: 440px;\r\n                        height: 80px;\r\n                        margin-top: 10px;\r\n                        overflow: hidden;\r\n                        ul{\r\n                            width: 3000px;\r\n                            transition: 0.3s;\r\n                            overflow: hidden;\r\n                            li{\r\n                                box-sizing: border-box;\r\n                                float: left;\r\n                                width: 80px;\r\n                                height: 80px;\r\n                                margin-right: 10px;\r\n                                background: #f9f9f9;\r\n                            }\r\n                        }\r\n                    }\r\n            }\r\n            .n-info{\r\n            width: 580px;\r\n            float: right;\r\n            .basic{\r\n                position: relative;\r\n                h2{\r\n                    line-height: 34px;\r\n                    color: #333;\r\n                    font-weight: normal;\r\n                    font-size: 24px;\r\n                }\r\n                .price{\r\n                        margin: 20px 0;\r\n                        font-size: 14px;\r\n                        span{\r\n                            font-size: 30px;\r\n                            margin-right: 3px;\r\n                            color: #d33a31;\r\n                        }\r\n                        em{\r\n                            margin-right: 4px;\r\n                            font-size: 30px;\r\n                            color: #d33a31;\r\n                        }    \r\n                }\r\n                .standard{\r\n                    .select-box{\r\n                        margin: 16px -16px 0 -8px;\r\n                        border: 1px solid #fff;\r\n                        padding: 0 7px;\r\n                        overflow: hidden;\r\n                        ul{\r\n                            overflow: hidden;\r\n                            width: 510px;\r\n                            float: left;\r\n                            margin-bottom: -8px;\r\n                            li{\r\n                                box-sizing: border-box;\r\n                                height: 30px;\r\n                                position: relative;\r\n                                margin-bottom: 10px;\r\n                                line-height: 27px;\r\n                                font-size: 12px;\r\n                                float: left;\r\n                                margin-right: 10px;\r\n                                padding: 0 20px;\r\n                                border: 1px solid #e5e5e5;\r\n                                background: #fff;\r\n                                cursor: pointer;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                .count{\r\n                    .count-box{\r\n                        margin-top: 17px;\r\n                        overflow: hidden;\r\n                        .u-number{\r\n                            float: left;\r\n                            width: 132px;\r\n                            height: 30px;\r\n                            border: 1px solid #e5e5e5;\r\n                            border-left: none;\r\n                            .u-btn{\r\n                                float: left;\r\n                                width: 34px;\r\n                                height: 30px;\r\n                                border-left: 1px solid #e5e5e5;\r\n                                i{\r\n                                    position: relative;\r\n                                    left: 3px;\r\n                                    top: 1px;\r\n                                    display: block;\r\n                                    width: 100%;\r\n                                    height: 100%;\r\n                                    overflow: hidden;\r\n                                    background: url(../assets/icon.png) no-repeat\r\n                                }\r\n                            }\r\n                            .tot{\r\n                                float: left;\r\n                                width: 59px;\r\n                                height: 30px;\r\n                                border-left: 1px solid #e5e5e5;\r\n                                input{\r\n                                    width: 100%;\r\n                                    margin: 0;\r\n                                    padding: 0;\r\n                                    border: none;\r\n                                    font-size: 14px;\r\n                                    height: 30px;\r\n                                    line-height: 30px;\r\n                                    text-align: center;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            .services{\r\n                    position: relative;\r\n                    margin-top: 17px;\r\n                    .servecnt{\r\n                        cursor: pointer;\r\n                        margin-left: 69px;\r\n                        .serveitem{\r\n                            display: inline-block;\r\n                            position: relative;\r\n                            line-height: 30px;\r\n                            font-size: 12px;\r\n                            margin-right: 28px;\r\n                            color: #666;\r\n                        }\r\n                        .serveitem::before{\r\n                            content: \"\";\r\n                            position: absolute;\r\n                            top: 13px;\r\n                            left: -8px;\r\n                            width: 3px;\r\n                            height: 3px;\r\n                            border-radius: 100%;\r\n                            background-color: #d33a31;\r\n                        }\r\n                    }\r\n            }\r\n            }\r\n        }\r\n        .n-contend{\r\n            overflow: hidden;\r\n            margin-top: 66px;\r\n            .n-contend-left{\r\n                float: left;\r\n                width: 700px;\r\n                .n-describe{\r\n                    float: left;\r\n                    width: 700px;\r\n                    .j-flag{\r\n                        img{\r\n                            display: block;\r\n                            width: 100%;\r\n                            height: auto;\r\n                        }\r\n                        p{\r\n                            font-size: 14px;\r\n                            line-height: 18px;\r\n                            padding: 5px 0;\r\n                            color: #666;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            .hotrecommned{\r\n                float: right;\r\n                width: 340px;\r\n                .normal{\r\n                    font-weight: normal;\r\n                }\r\n                .m-product{\r\n                    .hotitem{\r\n                        float: left;\r\n                        width: 100%;\r\n                        height: 100px;\r\n                        position: relative;\r\n                        padding-right: 16px;\r\n                        margin-bottom: 40px;\r\n                        .picbox{\r\n                            float: left;\r\n                            height: 100px;\r\n                            width: 100px;\r\n                            background-color: #f9f9f9;\r\n                            position: relative;\r\n                            img{\r\n                                display: block;\r\n                                height: 100%;\r\n                                width: 100%;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        .topbar{\r\n            position: fixed;\r\n            left: 0;\r\n            top: 0;\r\n            width: 100%;\r\n            height: 70px;\r\n            background-color: #fff;\r\n            z-index: 999;\r\n            .barbox{\r\n                overflow: hidden;\r\n                position: relative;\r\n                width: 1100px;\r\n                height: 70px;\r\n                margin: 0 auto;\r\n                .imgbox{\r\n                    height: 50px;\r\n                    width: 50px;\r\n                    margin-top: 10px;\r\n                    float: left;\r\n                    background: #f9f9f9;\r\n                    img{\r\n                        display: block;\r\n                        width: 100%;\r\n                        height: 100%;\r\n                    }\r\n                }\r\n                .barmsg{\r\n                    width: 634px;\r\n                    height: 48px;\r\n                    float: left;\r\n                    padding: 11px 0;\r\n                    padding-left: 16px;\r\n                    margin-right: 60px;\r\n                    p{\r\n                        font-size: 16px;\r\n                        height: 26px;\r\n                        line-height: 26px;\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n}\r\n</style>"],"mappings":"AA8GA,SAAAA,UAAA,EAAAC,QAAA,EAAAC,YAAA,EAAAC,UAAA;AACA;AACA;EACAC,IAAA;EACAC,KAAA;EACA;EACAC,KAAA;IACA;MACAC,SAAA;MACAC,GAAA;IACA;EACA;EACAC,OAAA;IACA,GAAAT,UAAA;MAAAU,IAAA;IAAA;IACA,GAAAR,YAAA;IACAS,qBAAA;MACA,IAAAC,SAAA,GAAAC,QAAA,CAAAC,IAAA,CAAAF,SAAA,IAAAC,QAAA,CAAAE,eAAA,CAAAH,SAAA;MACA;MACA,IAAAA,SAAA;QACA,KAAAL,SAAA;MACA;MACA,IAAAK,SAAA;QACA,KAAAL,SAAA;MACA;IACA;IACAS,aAAAR,GAAA;MACAS,OAAA,CAAAC,GAAA,CAAAV,GAAA;MACA;IACA;EACA;;EAEAW,QAAA;IACA,GAAAlB,QAAA;IACA,GAAAE,UAAA;EAEA;EACAiB,QAAA;IACAC,MAAA,CAAAC,gBAAA,gBAAAX,oBAAA;EACA;EACAY,QAAA;IACAN,OAAA,CAAAC,GAAA,MAAAM,KAAA;EACA;EACAC,KAAA;IACAC,MAAA;MACAC,SAAA;MACAC,IAAA;MACAC,QAAAC,GAAA;QACA,KAAAtB,GAAA,GAAAsB,GAAA;MACA;IACA;IACAtB,GAAA;MACAoB,IAAA;MACAC,QAAAE,MAAA;QACAC,cAAA,CAAAC,OAAA,WAAAF,MAAA;MACA;IACA;EAGA;EACAG,UAAA;IACAb,MAAA,CAAAc,mBAAA,gBAAAxB,oBAAA;EACA;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}